{"version":3,"file":"index.umd.js","sources":["../../../node_modules/@babel/runtime/helpers/esm/createClass.js","../src/index.ts","../../../node_modules/@babel/runtime/helpers/esm/defineProperty.js"],"sourcesContent":["function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","import { Point } from '@svg-drawing/core'\nimport type {\n  PathClass,\n  PathAttributes,\n  FrameAnimation,\n} from '@svg-drawing/core'\n\nexport class ShakeFrame implements FrameAnimation {\n  public readonly loops = 10\n  constructor(private range: number = 5) {\n    this.animation = this.animation.bind(this)\n  }\n\n  private randomNumber() {\n    return Math.random() * this.range - this.range / 2\n  }\n\n  public animation(paths: PathClass[]) {\n    for (let i = 0; i < paths.length; i += 1) {\n      paths[i].updateCommands(\n        paths[i].absoluteCommands.map((c) => {\n          const update = c.clone()\n\n          update.points = c.points.map((po) =>\n            po.add(new Point(this.randomNumber(), this.randomNumber()))\n          )\n          return update\n        })\n      )\n    }\n    return paths\n  }\n}\n\nexport class AttributeFrame implements FrameAnimation {\n  constructor(private attributesList: PathAttributes[]) {\n    this.animation = this.animation.bind(this)\n  }\n\n  get loops(): number {\n    return this.attributesList.length\n  }\n\n  animation(paths: PathClass[], key: number) {\n    const attr = this.attributesList[key]\n    if (!attr) return paths\n\n    for (let i = 0; i < paths.length; i += 1) {\n      paths[i].updateAttributes(attr)\n    }\n    return paths\n  }\n}\n\nexport class DrawFrame implements FrameAnimation {\n  constructor(private paths: PathClass[]) {\n    this.animation = this.animation.bind(this)\n  }\n\n  get loops(): number {\n    return this.paths.reduce((acc, p) => acc + p.absoluteCommands.length, 0)\n  }\n\n  animation(paths: PathClass[], key: number) {\n    let count = key\n    const update = []\n    for (let i = 0; i < paths.length; i += 1) {\n      const path = paths[i]\n      const vertexLength = path.absoluteCommands.length\n\n      path.updateCommands(path.absoluteCommands.slice(0, count))\n      update.push(path)\n\n      count -= vertexLength\n      if (count < 0) break\n    }\n    return update\n  }\n}\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}"],"names":["_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","Constructor","protoProps","staticProps","prototype","ShakeFrame","range","obj","value","this","animation","bind","_proto","randomNumber","Math","random","paths","_this","updateCommands","absoluteCommands","map","c","update","clone","points","po","add","Point","AttributeFrame","attributesList","attr","updateAttributes","get","DrawFrame","count","path","vertexLength","slice","push","reduce","acc","p"],"mappings":";;;;;;mTAAA,SAASA,EAAkBC,EAAQC,GACjC,IAAK,IAAIC,EAAI,EAAGA,EAAID,EAAME,OAAQD,IAAK,CACrC,IAAIE,EAAaH,EAAMC,GACvBE,EAAWC,WAAaD,EAAWC,aAAc,EACjDD,EAAWE,cAAe,EACtB,UAAWF,IAAYA,EAAWG,UAAW,GACjDC,OAAOC,eAAeT,EAAQI,EAAWM,IAAKN,EAC/C,CACF,CAEc,SAASO,EAAaC,EAAaC,EAAYC,GAG5D,OAFID,GAAYd,EAAkBa,EAAYG,UAAWF,GACrDC,GAAaf,EAAkBa,EAAaE,GACzCF,CACR,CCPYI,IAAAA,EAAb,WAEE,SAAAA,EAAoBC,GCTP,IAAyBC,EAAKR,EAAKS,ODST,IAAnBF,IAAAA,EAAgB,GAAGG,KAAnBH,MAAAA,ECT4BE,EDQxB,ICRmBT,EDSJ,WCTDQ,EDSCE,MCPrCZ,OAAOC,eAAeS,EAAKR,EAAK,CAC9BS,MAAOA,EACPd,YAAY,EACZC,cAAc,EACdC,UAAU,IAGZW,EAAIR,GAAOS,EDCXC,KAAKC,UAAYD,KAAKC,UAAUC,KAAKF,KACtC,CAJH,IAAAG,EAAAP,EAAAD,UAAA,OAAAQ,EAMUC,aAAR,WACE,OAAOC,KAAKC,SAAWN,KAAKH,MAAQG,KAAKH,MAAQ,GAPrDM,EAUSF,UAAP,SAAiBM,GACf,IADmC,IAAAC,EAAAR,KAC1BlB,EAAI,EAAGA,EAAIyB,EAAMxB,OAAQD,GAAK,EACrCyB,EAAMzB,GAAG2B,eACPF,EAAMzB,GAAG4B,iBAAiBC,KAAI,SAACC,GAC7B,IAAMC,EAASD,EAAEE,QAKjB,OAHAD,EAAOE,OAASH,EAAEG,OAAOJ,KAAI,SAACK,GAAD,OAC3BA,EAAGC,IAAI,IAAIC,QAAMV,EAAKJ,eAAgBI,EAAKJ,gBADhB,IAGtBS,CANT,KAUJ,OAAON,GAvBXX,CAAA,CAAA,GA2BauB,EAAb,WACE,SAAAA,EAAoBC,GAAkCpB,KAAlCoB,eAAAA,EAClBpB,KAAKC,UAAYD,KAAKC,UAAUC,KAAKF,KACtC,CAHH,OAAAmB,EAAAxB,UASEM,UAAA,SAAUM,EAAoBjB,GAC5B,IAAM+B,EAAOrB,KAAKoB,eAAe9B,GACjC,IAAK+B,EAAM,OAAOd,EAElB,IAAK,IAAIzB,EAAI,EAAGA,EAAIyB,EAAMxB,OAAQD,GAAK,EACrCyB,EAAMzB,GAAGwC,iBAAiBD,GAE5B,OAAOd,GAhBXhB,EAAA4B,EAAA,CAAA,CAAA7B,IAAA,QAAAiC,IAKE,WACE,OAAOvB,KAAKoB,eAAerC,MAC5B,KAPHoC,CAAA,CAAA,GAoBaK,EAAb,WACE,SAAAA,EAAoBjB,GAAoBP,KAApBO,MAAAA,EAClBP,KAAKC,UAAYD,KAAKC,UAAUC,KAAKF,KACtC,CAHH,OAAAwB,EAAA7B,UASEM,UAAA,SAAUM,EAAoBjB,GAG5B,IAFA,IAAImC,EAAQnC,EACNuB,EAAS,GACN/B,EAAI,EAAGA,EAAIyB,EAAMxB,OAAQD,GAAK,EAAG,CACxC,IAAM4C,EAAOnB,EAAMzB,GACb6C,EAAeD,EAAKhB,iBAAiB3B,OAM3C,GAJA2C,EAAKjB,eAAeiB,EAAKhB,iBAAiBkB,MAAM,EAAGH,IACnDZ,EAAOgB,KAAKH,IAEZD,GAASE,GACG,EAAG,KAChB,CACD,OAAOd,GAtBXtB,EAAAiC,EAAA,CAAA,CAAAlC,IAAA,QAAAiC,IAKE,WACE,OAAOvB,KAAKO,MAAMuB,QAAO,SAACC,EAAKC,GAAN,OAAYD,EAAMC,EAAEtB,iBAAiB3B,MAAvD,GAA+D,EACvE,KAPHyC,CAAA,CAAA"}